server {
        listen       80 default_server;
        listen       443 ssl;
        server_name  starnews.2345.com;
        index index.php index.htm index.html;
        root /opt/case/starnews.2345.com/web;

        ssl_certificate ssl/starnews.2345.com.crt;
        ssl_certificate_key ssl/starnews.2345.com.key;
        location = /favicon.ico {
            log_not_found off;
            access_log off;
        }

        #rewrite_log on ;
        #include  starnews_rule.conf;
        location / {
            try_files $uri $uri/ /index.php?$query_string;
        }
        location ~ .*\.php?$ { 
            fastcgi_pass   php:9000;
            fastcgi_index  index.php;
            fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
            include        fastcgi_params;
        }
       
        #include   php_rule.conf;

        location = /ldirectord.html {
            access_log off;
        }

        rewrite_log on;
        #rewrite ^/staticHTML/([a-zA-Z0-9]+)/([1-9][0-9]*).html$    /staticHTML/$2.html  last;
        #rewrite ^/staticHTML/([a-zA-Z0-9]+)/([1-9][0-9]*)/([a-zA-Z0-9]+).html$  /staticHTML/$2/index.html  last;

        #include  starnews_rule.conf;
        access_log   /opt/logs/nginx/starnews.2345.com.access.log starnews;
        error_log    /opt/logs/nginx/starnews.2345.com.error.log notice;
}
